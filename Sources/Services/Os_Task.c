/*******************************************************************************/
/**
\file       Os_Task.c
\brief      Operative System Module Tasks
\author     Gerardo Valdovinos
\version    1.0
\date       03/11/2014
*/
/****************************************************************************************************/

/*****************************************************************************************************
* Include files
*****************************************************************************************************/

/** Own headers */
#include "Os_Task.h"
#include "fixmath.h"
/** Used modules */

/*****************************************************************************************************
* Definition of module wide VARIABLEs 
*****************************************************************************************************/
fix16_t P;
fix16_t a;
fix16_t b;
fix16_t c;
fix16_t d;
fix16_t e;
/*****************************************************************************************************
* Declaration of module wide FUNCTIONs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide MACROs / #DEFINE-CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Declaration of module wide TYPEs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide (CONST-) CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Code of module wide FUNCTIONS
****************************************************************************************************/

/****************************************************************************************************/
/**
* \brief    Task 1 - 1ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
TASK(Task_1ms)
{
    static u16 time = 0;

    a = fix16_from_float(10.235);
    b = fix16_from_float(2.568);
    c = fix16_add(a , b);
    
    d = fix16_mul(a,b);

    e = fix16_div(a,b);
    
    time++;
    if(time >= 400)
    {
        PORTA_PA0 ^= 1; 
        time = 0;
    } 
    
    (void)Os_TerminateTask();     
}
/****************************************************************************************************/

/****************************************************************************************************/
/**
* \brief    Task 2 - 4ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
TASK(Task_4ms)
{
    static u16 time = 0;
    
    time++;
    if(time >= 200)
    {
        PORTA_PA1 ^= 1; 
        time = 0;
    } 
    
    (void)Os_TerminateTask();    
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 3 - 8ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
TASK(Task_8ms)
{
    static u16 time = 0;
    
    time++;
    if(time >= 200)
    {
        PORTA_PA2 ^= 1; 
        time = 0;
    } 
    
    (void)Os_TerminateTask();     
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 4 - 16ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
TASK(Task_16ms)
{
    static u16 time = 0;
    
    time++;
    if(time >= 200)
    {
        PORTA_PA3 ^= 1; 
        time = 0;
    } 
    
    
    
    (void)Os_TerminateTask();     
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 5 - 32ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
TASK(Task_32ms)
{
    ;    
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 6 - 64ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
TASK(Task_64ms)
{
    ;    
}
/****************************************************************************************************/


