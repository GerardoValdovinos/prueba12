/*******************************************************************************/
/**
\file       Os_TaskM.c
\brief      Task manager services
\author     Gerardo Valdovinos
\version    1.0
\date       30/10/2014
*/
/****************************************************************************************************/

/*****************************************************************************************************
* Include files
*****************************************************************************************************/

/** Own headers */
#include "Os_TaskM.h"

/** Used modules */
//#include "SchM.h"

/*****************************************************************************************************
* Definition of module wide VARIABLEs 
*****************************************************************************************************/
tstTCB* pstOs_TCB;
/*****************************************************************************************************
* Declaration of module wide FUNCTIONs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide MACROs / #DEFINE-CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Declaration of module wide TYPEs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide (CONST-) CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Code of module wide FUNCTIONS
****************************************************************************************************/

/****************************************************************************************************/
/**
* \brief    Operative system initialization
* \author   Gerardo Valdovinos
* \param    void
* \return   void     
*/
void Os_Init(tstTCB* pTCB)
{
    pstOs_TCB = pTCB;    
} 

/****************************************************************************************************/
/**
* \brief    Activate Task
* \author   Gerardo Valdovinos
* \param    void
* \return   void     
*/
eOsStatus Os_ActivateTask(TaskType taskID)
{
    if(taskID < pstOs_TCB->u8TCB_NumberOfTasks)
    {
        /* Change task state to Ready */
        pstOs_TCB->pstTCB_Task[taskID].u8TCB_State = READY;
        
        /* Put task in corresponding priority buffer */
        // TODO: hacer el buffer
        
        /* Service executed without error */
        return E_OK;
    }
    else
    {
        /* Not valid task */
        return E_OS_ID;    
    }
       
}

/****************************************************************************************************/
/**
* \brief    Terminate Task
* \author   Gerardo Valdovinos
* \param    void
* \return   void     
*/
void Os_TerminateTask(void)
{
    
}

/****************************************************************************************************/
/**
* \brief    Get Task ID
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
void Os_GetTaskID(void)
{
    
}

/****************************************************************************************************/
/**
* \brief    Get Task state
* \author   Gerardo Valdovinos
* \param    void
* \return   void    
*/
void Os_GetTaskState(void)
{
    
}

/****************************************************************************************************/
