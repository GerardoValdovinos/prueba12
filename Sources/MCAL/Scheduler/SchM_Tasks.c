/*******************************************************************************/
/**
\file       SchM_Tasks.c
\brief      Scheduler Module Tasks
\author     Gerardo Valdovinos
\version    1.0
\date       22/10/2014
*/
/****************************************************************************************************/

/*****************************************************************************************************
* Include files
*****************************************************************************************************/

/** Own headers */
#include "SchM_Tasks.h"
/** Used modules */

/*****************************************************************************************************
* Definition of module wide VARIABLEs 
*****************************************************************************************************/

/*****************************************************************************************************
* Declaration of module wide FUNCTIONs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide MACROs / #DEFINE-CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Declaration of module wide TYPEs 
*****************************************************************************************************/

/*****************************************************************************************************
* Definition of module wide (CONST-) CONSTANTs 
*****************************************************************************************************/

/*****************************************************************************************************
* Code of module wide FUNCTIONS
****************************************************************************************************/

/****************************************************************************************************/
/**
* \brief    Task 1 - 1ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
void SchM_Task_1ms(void)
{
    static u16 time = 0;
    
    time++;
    if(time >= 400)
    {
        PORTA_PA0 ^= 1; 
        time = 0;
    }      
}
/****************************************************************************************************/

/****************************************************************************************************/
/**
* \brief    Task 2 - 4ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
void SchM_Task_4ms(void)
{
    static u16 time = 0;
    
    time++;
    if(time >= 200)
    {
        PORTA_PA1 ^= 1; 
        time = 0;
    }     
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 3 - 8ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
void SchM_Task_8ms(void)
{
    static u16 time = 0;
    
    time++;
    if(time >= 200)
    {
        PORTA_PA2 ^= 1; 
        time = 0;
    }      
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 4 - 16ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
void SchM_Task_16ms(void)
{
    static u16 time = 0;
    
    time++;
    if(time >= 200)
    {
        PORTA_PA3 ^= 1; 
        time = 0;
    }      
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 5 - 32ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
void SchM_Task_32ms(void)
{
    
}
/****************************************************************************************************/
/****************************************************************************************************/
/**
* \brief    Task 6 - 64ms Period
* \author   Gerardo Valdovinos
* \param    void
* \return   void   
*/
void SchM_Task_64ms(void)
{
    
}
/****************************************************************************************************/

/****************************************************************************************************/
/**
* \brief    Scheduler Background task
* \author   Gerardo Valdovinos
* \param    void
* \return   void     
*/
void SchM_Background(void)
{
    /* Loop forever */
    for(;;) 
    {
        PORTA_PA4 = 1;
         
        _FEED_COP();    /* feeds the dog */
    }                   /* loop forever */    
}
/****************************************************************************************************/